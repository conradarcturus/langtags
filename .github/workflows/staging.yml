name: Build and deploy langtags.json for staging
on:
  push:
    branches: [master, feat/*, fix/*]
    paths:
      - .github/workflows/**
      - bin/ltdb2alltags
      - bin/jsonlangtagstotxt
      - lib/**
      - source/**
      - tests/**
      - Makefile
      - setup.py
  repository_dispatch:
    types: [sldr-deployed]
jobs:
  build:
    uses: ./.github/workflows/build.yml
    with:
      sldr-run-id: ${{ github.event.client_payload.run_id }}
      sldr-release: ${{ github.event.client_payload.release == 'true' }}

  # deploy:
  #   needs: build
  #   uses: ./.github/workflows/deploy.yml
  #   secrets: inherit
  #   with:
  #     path: staging
